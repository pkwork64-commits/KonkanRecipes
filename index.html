<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mom's Konkan Kitchen</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        
        const RecipeApp = () => {
            const [recipes, setRecipes] = useState([
                {
                    id: 1,
                    name: "Mom's Fish Curry",
                    snippet: "Put coconut, green chilies in mixer. Fry fish first. Then add curry leaves, mustard seeds tadka. Don't forget tamarind!",
                    ingredients: ["Fish (pomfret)", "Coconut", "Green chilies", "Curry leaves", "Mustard seeds", "Tamarind", "Onions", "Turmeric"],
                    instructions: ["Grind coconut with green chilies to make paste", "Fry fish pieces until golden", "Heat oil, add mustard seeds and curry leaves", "Add onions, cook until soft", "Add coconut paste and tamarind water", "Add fried fish and simmer"],
                    cookTime: "30 mins",
                    serves: "4",
                    isComplete: true
                }
            ]);
            
            const [showAddForm, setShowAddForm] = useState(false);
            const [editingId, setEditingId] = useState(null);
            const [newRecipe, setNewRecipe] = useState({
                name: '',
                snippet: '',
                ingredients: [],
                instructions: [],
                cookTime: '',
                serves: ''
            });

            const addRecipe = () => {
                if (newRecipe.name && newRecipe.snippet) {
                    const recipe = {
                        id: Date.now(),
                        ...newRecipe,
                        isComplete: false
                    };
                    setRecipes([...recipes, recipe]);
                    setNewRecipe({
                        name: '',
                        snippet: '',
                        ingredients: [],
                        instructions: [],
                        cookTime: '',
                        serves: ''
                    });
                    setShowAddForm(false);
                }
            };

            const convertSnippet = (id) => {
                setRecipes(recipes.map(recipe => {
                    if (recipe.id === id) {
                        const snippet = recipe.snippet.toLowerCase();
                        const suggestedIngredients = [];
                        const suggestedInstructions = [];
                        
                        const ingredientKeywords = ['coconut', 'chilies', 'fish', 'curry leaves', 'mustard seeds', 'tamarind', 'onions', 'oil', 'turmeric', 'ginger', 'garlic'];
                        ingredientKeywords.forEach(ingredient => {
                            if (snippet.includes(ingredient)) {
                                suggestedIngredients.push(ingredient.charAt(0).toUpperCase() + ingredient.slice(1));
                            }
                        });
                        
                        const sentences = recipe.snippet.split(/[.!]/).filter(s => s.trim());
                        sentences.forEach(sentence => {
                            if (sentence.trim()) {
                                suggestedInstructions.push(sentence.trim().charAt(0).toUpperCase() + sentence.trim().slice(1));
                            }
                        });
                        
                        return {
                            ...recipe,
                            ingredients: suggestedIngredients,
                            instructions: suggestedInstructions,
                            isComplete: true
                        };
                    }
                    return recipe;
                }));
            };

            const shareRecipe = (recipe) => {
                const shareText = `${recipe.name}\n\nIngredients:\n${recipe.ingredients.map(ing => `• ${ing}`).join('\n')}\n\nInstructions:\n${recipe.instructions.map((inst, i) => `${i + 1}. ${inst}`).join('\n')}\n\nCook Time: ${recipe.cookTime} | Serves: ${recipe.serves}`;
                
                if (navigator.share) {
                    navigator.share({
                        title: recipe.name,
                        text: shareText,
                    });
                } else {
                    navigator.clipboard.writeText(shareText);
                    alert('Recipe copied to clipboard!');
                }
            };

            const updateRecipeField = (id, field, value) => {
                setRecipes(recipes.map(recipe => 
                    recipe.id === id ? { ...recipe, [field]: value } : recipe
                ));
            };

            const addIngredient = (id, ingredient) => {
                if (ingredient.trim()) {
                    setRecipes(recipes.map(recipe => 
                        recipe.id === id 
                            ? { ...recipe, ingredients: [...recipe.ingredients, ingredient.trim()] }
                            : recipe
                    ));
                }
            };

            const addInstruction = (id, instruction) => {
                if (instruction.trim()) {
                    setRecipes(recipes.map(recipe => 
                        recipe.id === id 
                            ? { ...recipe, instructions: [...recipe.instructions, instruction.trim()] }
                            : recipe
                    ));
                }
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-yellow-50">
                    <div className="bg-gradient-to-r from-red-600 to-orange-600 text-white p-6 shadow-lg">
                        <div className="max-w-4xl mx-auto">
                            <div className="flex items-center gap-3 mb-2">
                                <svg className="w-8 h-8 text-red-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                                </svg>
                                <h1 className="text-3xl font-bold">Mom's Konkan Kitchen</h1>
                            </div>
                            <p className="text-red-100 flex items-center gap-2">
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                                </svg>
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                                </svg>
                                Preserving family recipes, one call at a time
                            </p>
                        </div>
                    </div>

                    <div className="max-w-4xl mx-auto p-6">
                        <div className="mb-8">
                            <button
                                onClick={() => setShowAddForm(true)}
                                className="bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2 hover:from-green-700 hover:to-green-800 transition-all shadow-md"
                            >
                                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                </svg>
                                Add New Recipe from Mom
                            </button>
                        </div>

                        {showAddForm && (
                            <div className="bg-white rounded-xl shadow-lg p-6 mb-8 border-l-4 border-orange-500">
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-xl font-bold text-gray-800 flex items-center gap-2">
                                        <svg className="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                                        </svg>
                                        What did Mom say?
                                    </h3>
                                    <button onClick={() => setShowAddForm(false)}>
                                        <svg className="w-5 h-5 text-gray-400 hover:text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12"></path>
                                        </svg>
                                    </button>
                                </div>
                                
                                <div className="space-y-4">
                                    <input
                                        type="text"
                                        placeholder="Recipe name (e.g., Mom's Fish Curry)"
                                        value={newRecipe.name}
                                        onChange={(e) => setNewRecipe({...newRecipe, name: e.target.value})}
                                        className="w-full p-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"
                                    />
                                    
                                    <textarea
                                        placeholder="Paste what mom said... 'Put coconut, green chilies in mixer. Fry fish first. Then add curry leaves...' - don't worry about the format!"
                                        value={newRecipe.snippet}
                                        onChange={(e) => setNewRecipe({...newRecipe, snippet: e.target.value})}
                                        className="w-full p-3 border rounded-lg h-32 resize-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"
                                    />
                                    
                                    <div className="flex gap-3">
                                        <input
                                            type="text"
                                            placeholder="Cook time"
                                            value={newRecipe.cookTime}
                                            onChange={(e) => setNewRecipe({...newRecipe, cookTime: e.target.value})}
                                            className="flex-1 p-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"
                                        />
                                        <input
                                            type="text"
                                            placeholder="Serves"
                                            value={newRecipe.serves}
                                            onChange={(e) => setNewRecipe({...newRecipe, serves: e.target.value})}
                                            className="flex-1 p-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"
                                        />
                                    </div>
                                    
                                    <button
                                        onClick={addRecipe}
                                        className="bg-orange-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-orange-700 transition-colors"
                                    >
                                        Save Recipe Snippet
                                    </button>
                                </div>
                            </div>
                        )}

                        <div className="space-y-6">
                            {recipes.map(recipe => (
                                <div key={recipe.id} className="bg-white rounded-xl shadow-lg overflow-hidden border-l-4 border-red-500">
                                    <div className="bg-gradient-to-r from-red-500 to-orange-500 text-white p-4">
                                        <div className="flex justify-between items-start">
                                            <div>
                                                <h3 className="text-xl font-bold mb-1">{recipe.name}</h3>
                                                <div className="flex items-center gap-4 text-red-100 text-sm">
                                                    {recipe.cookTime && <span>⏱️ {recipe.cookTime}</span>}
                                                    {recipe.serves && <span>👥 Serves {recipe.serves}</span>}
                                                </div>
                                            </div>
                                            <div className="flex gap-2">
                                                <button
                                                    onClick={() => setEditingId(editingId === recipe.id ? null : recipe.id)}
                                                    className="p-2 bg-red-400 hover:bg-red-600 rounded-lg transition-colors"
                                                >
                                                    <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                                                    </svg>
                                                </button>
                                                <button
                                                    onClick={() => shareRecipe(recipe)}
                                                    className="p-2 bg-red-400 hover:bg-red-600 rounded-lg transition-colors"
                                                >
                                                    <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path>
                                                    </svg>
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <div className="p-6">
                                        <div className="mb-6 p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400">
                                            <h4 className="font-semibold text-gray-800 mb-2 flex items-center gap-2">
                                                <svg className="w-4 h-4 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                                                </svg>
                                                What Mom Said:
                                            </h4>
                                            <p className="text-gray-700 italic">"{recipe.snippet}"</p>
                                            {!recipe.isComplete && (
                                                <button
                                                    onClick={() => convertSnippet(recipe.id)}
                                                    className="mt-3 bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-green-700 transition-colors flex items-center gap-2"
                                                >
                                                    <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                                                    </svg>
                                                    Convert to Full Recipe
                                                </button>
                                            )}
                                        </div>

                                        {recipe.isComplete && (
                                            <div className="grid md:grid-cols-2 gap-6">
                                                <div>
                                                    <h4 className="font-bold text-gray-800 mb-3 text-lg">Ingredients</h4>
                                                    <ul className="space-y-2">
                                                        {recipe.ingredients.map((ingredient, index) => (
                                                            <li key={index} className="flex items-center gap-2 text-gray-700">
                                                                <span className="w-2 h-2 bg-orange-400 rounded-full"></span>
                                                                {editingId === recipe.id ? (
                                                                    <input
                                                                        type="text"
                                                                        value={ingredient}
                                                                        onChange={(e) => {
                                                                            const newIngredients = [...recipe.ingredients];
                                                                            newIngredients[index] = e.target.value;
                                                                            updateRecipeField(recipe.id, 'ingredients', newIngredients);
                                                                        }}
                                                                        className="flex-1 p-1 border rounded"
                                                                    />
                                                                ) : (
                                                                    ingredient
                                                                )}
                                                            </li>
                                                        ))}
                                                    </ul>
                                                </div>

                                                <div>
                                                    <h4 className="font-bold text-gray-800 mb-3 text-lg">Instructions</h4>
                                                    <ol className="space-y-3">
                                                        {recipe.instructions.map((instruction, index) => (
                                                            <li key={index} className="flex gap-3 text-gray-700">
                                                                <span className="bg-red-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-1">
                                                                    {index + 1}
                                                                </span>
                                                                {editingId === recipe.id ? (
                                                                    <textarea
                                                                        value={instruction}
                                                                        onChange={(e) => {
                                                                            const newInstructions = [...recipe.instructions];
                                                                            newInstructions[index] = e.target.value;
                                                                            updateRecipeField(recipe.id, 'instructions', newInstructions);
                                                                        }}
                                                                        className="flex-1 p-2 border rounded resize-none"
                                                                        rows="2"
                                                                    />
                                                                ) : (
                                                                    <span className="flex-1">{instruction}</span>
                                                                )}
                                                            </li>
                                                        ))}
                                                    </ol>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            ))}
                        </div>

                        {recipes.length === 0 && (
                            <div className="text-center py-12 text-gray-500">
                                <svg className="w-16 h-16 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                                </svg>
                                <h3 className="text-xl font-semibold mb-2">No recipes yet!</h3>
                                <p>Start by adding your first recipe from mom</p>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        ReactDOM.render(<RecipeApp />, document.getElementById('root'));
    </script>
</body>
</html>
